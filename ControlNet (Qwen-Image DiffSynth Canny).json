{"revision":0,"last_node_id":84,"last_link_id":0,"nodes":[{"id":84,"type":"6eb39f98-4f85-4aec-b31f-3ecaa33f2b0b","pos":[600,440],"size":[400,460],"flags":{},"order":4,"mode":0,"inputs":[{"label":"canny_image","localized_name":"image","name":"image","type":"IMAGE","link":null},{"name":"text","type":"STRING","widget":{"name":"text"},"link":null},{"name":"seed","type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[]}],"title":"ControlNet (Qwen-Image DiffSynth Canny)","properties":{"proxyWidgets":[["-1","text"],["-1","seed"],["3","control_after_generate"]]},"widgets_values":["",70741926012422]}],"links":[],"version":0.4,"definitions":{"subgraphs":[{"id":"6eb39f98-4f85-4aec-b31f-3ecaa33f2b0b","version":1,"state":{"lastGroupId":6,"lastNodeId":83,"lastLinkId":51,"lastRerouteId":0},"revision":0,"config":{},"name":"ControlNet (Qwen-Image DiffSynth Canny)","inputNode":{"id":-10,"bounding":[-170,781.7999877929688,120,100]},"outputNode":{"id":-20,"bounding":[1600,781.7999877929688,120,60]},"inputs":[{"id":"adf06190-9b59-4a3b-a96b-026ae5643874","name":"image","type":"IMAGE","linkIds":[51],"localized_name":"image","label":"canny_image","pos":[-70,801.7999877929688]},{"id":"ad4061dd-c4c0-4d77-b8c5-c86350011c7e","name":"text","type":"STRING","linkIds":[49],"pos":[-70,821.7999877929688]},{"id":"d1f77a17-21b9-46d0-bfb0-9289c357f6ba","name":"seed","type":"INT","linkIds":[50],"pos":[-70,841.7999877929688]}],"outputs":[{"id":"af89884c-7127-4b50-ae43-17049230d419","name":"IMAGE","type":"IMAGE","linkIds":[28],"localized_name":"IMAGE","pos":[1620,801.7999877929688]}],"widgets":[],"nodes":[{"id":7,"type":"CLIPTextEncode","pos":[420,710],"size":[400,150],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":25},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[33]}],"title":"CLIP Text Encode (Negative Prompt)","properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.51"},"widgets_values":[" "],"color":"#223","bgcolor":"#335"},{"id":70,"type":"ReferenceLatent","pos":[860,470],"size":[204.134765625,46],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":31},{"localized_name":"latent","name":"latent","shape":7,"type":"LATENT","link":32}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[21]}],"properties":{"Node name for S&R":"ReferenceLatent","cnr_id":"comfy-core","ver":"0.3.51"}},{"id":71,"type":"ReferenceLatent","pos":[850,720],"size":[204.134765625,46],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":33},{"localized_name":"latent","name":"latent","shape":7,"type":"LATENT","link":34}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[22]}],"properties":{"Node name for S&R":"ReferenceLatent","cnr_id":"comfy-core","ver":"0.3.51"}},{"id":39,"type":"VAELoader","pos":[30,650],"size":[330,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","links":[27,36]}],"properties":{"Node name for S&R":"VAELoader","cnr_id":"comfy-core","ver":"0.3.51","models":[{"name":"qwen_image_vae.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors","directory":"vae"}]},"widgets_values":["qwen_image_vae.safetensors"]},{"id":38,"type":"CLIPLoader","pos":[30,490],"size":[330,110],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[24,25]}],"properties":{"Node name for S&R":"CLIPLoader","cnr_id":"comfy-core","ver":"0.3.51","models":[{"name":"qwen_2.5_vl_7b_fp8_scaled.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors","directory":"text_encoders"}]},"widgets_values":["qwen_2.5_vl_7b_fp8_scaled.safetensors","qwen_image","default"]},{"id":69,"type":"LoraLoaderModelOnly","pos":[30,360],"size":[330,82],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":30},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[45]}],"properties":{"Node name for S&R":"LoraLoaderModelOnly","cnr_id":"comfy-core","ver":"0.3.51","models":[{"name":"qwen_image_union_diffsynth_lora.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image-DiffSynth-ControlNets/resolve/main/split_files/loras/qwen_image_union_diffsynth_lora.safetensors","directory":"loras"}]},"widgets_values":["qwen_image_union_diffsynth_lora.safetensors",1]},{"id":37,"type":"UNETLoader","pos":[30,220],"size":[330,82],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[30]}],"properties":{"Node name for S&R":"UNETLoader","cnr_id":"comfy-core","ver":"0.3.51","models":[{"name":"qwen_image_fp8_e4m3fn.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/diffusion_models/qwen_image_fp8_e4m3fn.safetensors","directory":"diffusion_models"}]},"widgets_values":["qwen_image_fp8_e4m3fn.safetensors","default"]},{"id":81,"type":"MarkdownNote","pos":[1100,780],"size":[260,150],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"title":"KSampler settings","properties":{},"widgets_values":["You can test and find the best setting by yourself. The following table is for reference.\n\n| model            | steps | cfg |\n|---------------------|---------------|---------------|\n| fp8_e4m3fn             | 20                | 2.5               |\n| fp8_e4m3fn + 4 steps LoRA    | 4               | 1.0               |\n"],"color":"#432","bgcolor":"#000"},{"id":66,"type":"ModelSamplingAuraFlow","pos":[1100,170],"size":[260,58],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":46},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[20]}],"properties":{"Node name for S&R":"ModelSamplingAuraFlow","cnr_id":"comfy-core","ver":"0.3.51"},"widgets_values":[3.1]},{"id":8,"type":"VAEDecode","pos":[1400,170],"size":[140,46],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":26},{"localized_name":"vae","name":"vae","type":"VAE","link":27}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[28]}],"properties":{"Node name for S&R":"VAEDecode","cnr_id":"comfy-core","ver":"0.3.51"}},{"id":6,"type":"CLIPTextEncode","pos":[420,460],"size":[400,200],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":24},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":49}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[31]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.51"},"widgets_values":[""],"color":"#232","bgcolor":"#353"},{"id":3,"type":"KSampler","pos":[1100,280],"size":[260,450],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":20},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":21},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":22},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":44},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":50},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[26]}],"properties":{"Node name for S&R":"KSampler","cnr_id":"comfy-core","ver":"0.3.51"},"widgets_values":[70741926012422,"randomize",4,1,"euler","simple",1]},{"id":79,"type":"LoraLoaderModelOnly","pos":[490,210],"size":[470,82],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":45},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[46]}],"properties":{"Node name for S&R":"LoraLoaderModelOnly","cnr_id":"comfy-core","ver":"0.3.51","models":[{"name":"Qwen-Image-Lightning-4steps-V1.0.safetensors","url":"https://huggingface.co/lightx2v/Qwen-Image-Lightning/resolve/main/Qwen-Image-Lightning-4steps-V1.0.safetensors","directory":"loras"}]},"widgets_values":["Qwen-Image-Lightning-4steps-V1.0.safetensors",1]},{"id":72,"type":"VAEEncode","pos":[420,950],"size":[140,46],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":51},{"localized_name":"vae","name":"vae","type":"VAE","link":36}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[32,34,44]}],"properties":{"Node name for S&R":"VAEEncode","cnr_id":"comfy-core","ver":"0.3.51"}}],"groups":[{"id":1,"title":"Models","bounding":[10,130,370,620],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"Conditioning","bounding":[400,330,680,570],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Prompt","bounding":[410,390,420,490],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"4 steps lighting LoRA","bounding":[400,130,680,180],"color":"#3f789e","font_size":24,"flags":{}}],"links":[{"id":25,"origin_id":38,"origin_slot":0,"target_id":7,"target_slot":0,"type":"CLIP"},{"id":31,"origin_id":6,"origin_slot":0,"target_id":70,"target_slot":0,"type":"CONDITIONING"},{"id":32,"origin_id":72,"origin_slot":0,"target_id":70,"target_slot":1,"type":"LATENT"},{"id":33,"origin_id":7,"origin_slot":0,"target_id":71,"target_slot":0,"type":"CONDITIONING"},{"id":34,"origin_id":72,"origin_slot":0,"target_id":71,"target_slot":1,"type":"LATENT"},{"id":36,"origin_id":39,"origin_slot":0,"target_id":72,"target_slot":1,"type":"VAE"},{"id":30,"origin_id":37,"origin_slot":0,"target_id":69,"target_slot":0,"type":"MODEL"},{"id":46,"origin_id":79,"origin_slot":0,"target_id":66,"target_slot":0,"type":"MODEL"},{"id":24,"origin_id":38,"origin_slot":0,"target_id":6,"target_slot":0,"type":"CLIP"},{"id":26,"origin_id":3,"origin_slot":0,"target_id":8,"target_slot":0,"type":"LATENT"},{"id":27,"origin_id":39,"origin_slot":0,"target_id":8,"target_slot":1,"type":"VAE"},{"id":45,"origin_id":69,"origin_slot":0,"target_id":79,"target_slot":0,"type":"MODEL"},{"id":20,"origin_id":66,"origin_slot":0,"target_id":3,"target_slot":0,"type":"MODEL"},{"id":21,"origin_id":70,"origin_slot":0,"target_id":3,"target_slot":1,"type":"CONDITIONING"},{"id":22,"origin_id":71,"origin_slot":0,"target_id":3,"target_slot":2,"type":"CONDITIONING"},{"id":44,"origin_id":72,"origin_slot":0,"target_id":3,"target_slot":3,"type":"LATENT"},{"id":28,"origin_id":8,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"IMAGE"},{"id":49,"origin_id":-10,"origin_slot":1,"target_id":6,"target_slot":1,"type":"STRING"},{"id":50,"origin_id":-10,"origin_slot":2,"target_id":3,"target_slot":4,"type":"INT"},{"id":51,"origin_id":-10,"origin_slot":0,"target_id":72,"target_slot":0,"type":"IMAGE"}],"extra":{"workflowRendererVersion":"LG"}}]}}