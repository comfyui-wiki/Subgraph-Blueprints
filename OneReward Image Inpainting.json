{"id":"569f5045-6420-4553-96e7-d65913b70d9e","revision":0,"last_node_id":58,"last_link_id":0,"nodes":[{"id":58,"type":"d494493b-2a27-4021-aa4f-a00ca3f3f4f3","pos":[720.7751524103105,2131.2017802127893],"size":[400,470],"flags":{},"order":0,"mode":0,"inputs":[{"label":"input_image","localized_name":"destination","name":"destination","type":"IMAGE","link":null},{"name":"mask","type":"MASK","link":null},{"name":"seed","type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"label":"output_1","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[]},{"label":"output_2","localized_name":"IMAGE_1","name":"IMAGE_1","type":"IMAGE","links":[]}],"properties":{"proxyWidgets":[["23","text"],["-1","seed"],["3","control_after_generate"]]},"widgets_values":[null,0]}],"links":[],"groups":[],"definitions":{"subgraphs":[{"id":"d494493b-2a27-4021-aa4f-a00ca3f3f4f3","version":1,"state":{"lastGroupId":9,"lastNodeId":107,"lastLinkId":202,"lastRerouteId":0},"revision":0,"config":{},"name":"OneReward Image Inpainting","inputNode":{"id":-10,"bounding":[-1010,350,120,100]},"outputNode":{"id":-20,"bounding":[1110,350,120,80]},"inputs":[{"id":"0436726e-a3a0-4cde-8df0-e03ad1bc38e0","name":"destination","type":"IMAGE","linkIds":[109,99],"localized_name":"destination","label":"input_image","pos":[-910,370]},{"id":"1f223f5f-53d7-478f-82f4-5a848fca3ffd","name":"mask","type":"MASK","linkIds":[201],"pos":[-910,390]},{"id":"8036aa65-970b-46b5-a925-d1f036e866ef","name":"seed","type":"INT","linkIds":[202],"pos":[-910,410]}],"outputs":[{"id":"d9b970e3-6003-4854-8004-d2e8c4531820","name":"IMAGE","type":"IMAGE","linkIds":[95],"localized_name":"IMAGE","label":"output_1","pos":[1130,370]},{"id":"a3288d0a-fb1e-4ebe-b5c3-6a68684de99e","name":"IMAGE_1","type":"IMAGE","linkIds":[197],"localized_name":"IMAGE_1","label":"output_2","pos":[1130,390]}],"widgets":[],"nodes":[{"id":26,"type":"FluxGuidance","pos":[170,160],"size":[210,60],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":41},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[80]}],"properties":{"Node name for S&R":"FluxGuidance","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[30]},{"id":46,"type":"ConditioningZeroOut","pos":[-40,170],"size":[204.134765625,26],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":101}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[102]}],"properties":{"Node name for S&R":"ConditioningZeroOut","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[]},{"id":39,"type":"DifferentialDiffusion","pos":[410,-80],"size":[315,58],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":196},{"localized_name":"strength","name":"strength","shape":7,"type":"FLOAT","widget":{"name":"strength"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[86]}],"properties":{"Node name for S&R":"DifferentialDiffusion","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[1]},{"id":8,"type":"VAEDecode","pos":[410,310],"size":[210,46],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":7},{"localized_name":"vae","name":"vae","type":"VAE","link":60}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[95,110]}],"properties":{"Node name for S&R":"VAEDecode","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[]},{"id":49,"type":"MaskPreview","pos":[-30,650],"size":[320,340],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":104}],"outputs":[],"properties":{"Node name for S&R":"MaskPreview","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[]},{"id":32,"type":"VAELoader","pos":[-430,370],"size":[315,58],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[60,82]}],"properties":{"Node name for S&R":"VAELoader","cnr_id":"comfy-core","ver":"0.3.59","models":[{"name":"ae.safetensors","url":"https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors","directory":"vae"}]},"widgets_values":["ae.safetensors"]},{"id":31,"type":"UNETLoader","pos":[-430,-50],"size":[315,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[195]}],"properties":{"Node name for S&R":"UNETLoader","cnr_id":"comfy-core","ver":"0.3.59","models":[{"name":"flux.1-fill-dev-OneReward-transformer_fp8.safetensors","url":"https://huggingface.co/Comfy-Org/OneReward_repackaged/resolve/main/split_files/diffusion_models/flux.1-fill-dev-OneReward-transformer_fp8.safetensors","directory":"diffusion_models"}]},"widgets_values":["flux.1-fill-dev-OneReward-transformer_fp8.safetensors","default"]},{"id":52,"type":"MarkdownNote","pos":[400,620],"size":[290,88],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"title":"Note: About ImageCompositeMasked","properties":{},"widgets_values":["Some users might want to keep the unmasked area unchanged, though with ImageCompositeMasked, we can paste the original pixels back."],"color":"#432","bgcolor":"#653"},{"id":104,"type":"MarkdownNote","pos":[-420,930],"size":[310,100],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"title":"Note: How to draw mask","properties":{},"widgets_values":["Right-click on the Load Image node, then click Open in `Maskeditor` to edit the mask."],"color":"#432","bgcolor":"#653"},{"id":34,"type":"DualCLIPLoader","pos":[-430,200],"size":[315,130],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"clip_name1","name":"clip_name1","type":"COMBO","widget":{"name":"clip_name1"},"link":null},{"localized_name":"clip_name2","name":"clip_name2","type":"COMBO","widget":{"name":"clip_name2"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[62]}],"properties":{"Node name for S&R":"DualCLIPLoader","cnr_id":"comfy-core","ver":"0.3.59","models":[{"name":"clip_l.safetensors","url":"https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors?download=true","directory":"text_encoders"},{"name":"t5xxl_fp16.safetensors","url":"https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors?download=true","directory":"text_encoders"}]},"widgets_values":["clip_l.safetensors","t5xxl_fp16.safetensors","flux","default"]},{"id":23,"type":"CLIPTextEncode","pos":[-40,-50],"size":[422.8500061035156,164.30999755859375],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":62},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[41,101]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[""],"color":"#232","bgcolor":"#353"},{"id":103,"type":"MarkdownNote","pos":[-490,-280],"size":[420,110],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"title":"Note: About object removal","properties":{},"widgets_values":["By default, this group is an image inpainting workflow. \n\nYou can select the  the \n**LoraLoaderModelOnly** node and use **Ctrl+B** to enable it, which will turn it into an object removal workflow. \n"],"color":"#432","bgcolor":"#653"},{"id":100,"type":"LoraLoaderModelOnly","pos":[-430,80],"size":[315,82],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":195},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[196]}],"properties":{"Node name for S&R":"LoraLoaderModelOnly","cnr_id":"comfy-core","ver":"0.3.59","models":[{"name":"removal_timestep_alpha-2-1740.safetensors","url":"https://huggingface.co/lrzjason/ObjectRemovalFluxFill/resolve/main/removal_timestep_alpha-2-1740.safetensors","directory":"loras"}]},"widgets_values":["removal_timestep_alpha-2-1740.safetensors",1]},{"id":50,"type":"ImageCompositeMasked","pos":[420,420],"size":[250,150],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":109},{"localized_name":"source","name":"source","type":"IMAGE","link":110},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":105},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[197]}],"properties":{"Node name for S&R":"ImageCompositeMasked","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[0,0,true]},{"id":48,"type":"89e17d28-0ba0-4783-8d15-7f2cc671c37f","pos":[-30,500],"size":[330,100],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":null},{"name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[104,105]}],"properties":{"proxyWidgets":[["-1","expand"],["-1","blur_radius"]],"cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[0,1]},{"id":38,"type":"InpaintModelConditioning","pos":[-40,300],"size":[302.3999938964844,138],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":80},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":102},{"localized_name":"vae","name":"vae","type":"VAE","link":82},{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":99},{"localized_name":"mask","name":"mask","type":"MASK","link":201},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[77]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[78]},{"localized_name":"latent","name":"latent","type":"LATENT","slot_index":2,"links":[199]}],"properties":{"Node name for S&R":"InpaintModelConditioning","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[true]},{"id":3,"type":"KSampler","pos":[410,0],"size":[315,262],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":86},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":77},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":78},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":199},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":202},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[7]}],"properties":{"Node name for S&R":"KSampler","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[0,"randomize",20,1,"euler","normal",1]}],"groups":[{"id":9,"title":"Inpainting & Object removal","bounding":[-490,-160,1310,1250],"color":"#3f789e","font_size":24,"flags":{}},{"id":1,"title":"Step1 - Load models","bounding":[-480,-120,410,580],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Step2 - Load image and draw mask","bounding":[-470,480,410,400],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Step3 - Prompt","bounding":[-50,-120,440,370],"color":"#3f789e","font_size":24,"flags":{}}],"links":[{"id":86,"origin_id":39,"origin_slot":0,"target_id":3,"target_slot":0,"type":"MODEL"},{"id":77,"origin_id":38,"origin_slot":0,"target_id":3,"target_slot":1,"type":"CONDITIONING"},{"id":78,"origin_id":38,"origin_slot":1,"target_id":3,"target_slot":2,"type":"CONDITIONING"},{"id":199,"origin_id":38,"origin_slot":2,"target_id":3,"target_slot":3,"type":"LATENT"},{"id":41,"origin_id":23,"origin_slot":0,"target_id":26,"target_slot":0,"type":"CONDITIONING"},{"id":101,"origin_id":23,"origin_slot":0,"target_id":46,"target_slot":0,"type":"CONDITIONING"},{"id":196,"origin_id":100,"origin_slot":0,"target_id":39,"target_slot":0,"type":"MODEL"},{"id":7,"origin_id":3,"origin_slot":0,"target_id":8,"target_slot":0,"type":"LATENT"},{"id":60,"origin_id":32,"origin_slot":0,"target_id":8,"target_slot":1,"type":"VAE"},{"id":104,"origin_id":48,"origin_slot":0,"target_id":49,"target_slot":0,"type":"MASK"},{"id":110,"origin_id":8,"origin_slot":0,"target_id":50,"target_slot":1,"type":"IMAGE"},{"id":105,"origin_id":48,"origin_slot":0,"target_id":50,"target_slot":2,"type":"MASK"},{"id":62,"origin_id":34,"origin_slot":0,"target_id":23,"target_slot":0,"type":"CLIP"},{"id":80,"origin_id":26,"origin_slot":0,"target_id":38,"target_slot":0,"type":"CONDITIONING"},{"id":102,"origin_id":46,"origin_slot":0,"target_id":38,"target_slot":1,"type":"CONDITIONING"},{"id":82,"origin_id":32,"origin_slot":0,"target_id":38,"target_slot":2,"type":"VAE"},{"id":195,"origin_id":31,"origin_slot":0,"target_id":100,"target_slot":0,"type":"MODEL"},{"id":109,"origin_id":-10,"origin_slot":0,"target_id":50,"target_slot":0,"type":"IMAGE"},{"id":99,"origin_id":-10,"origin_slot":0,"target_id":38,"target_slot":3,"type":"IMAGE"},{"id":95,"origin_id":8,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"IMAGE"},{"id":197,"origin_id":50,"origin_slot":0,"target_id":-20,"target_slot":1,"type":"IMAGE"},{"id":201,"origin_id":-10,"origin_slot":1,"target_id":38,"target_slot":4,"type":"MASK"},{"id":202,"origin_id":-10,"origin_slot":2,"target_id":3,"target_slot":4,"type":"INT"}],"extra":{"workflowRendererVersion":"LG"}},{"id":"89e17d28-0ba0-4783-8d15-7f2cc671c37f","version":1,"state":{"lastGroupId":11,"lastNodeId":255,"lastLinkId":380,"lastRerouteId":0},"revision":0,"config":{},"name":"Grow and Blur Mask","inputNode":{"id":-10,"bounding":[290,3536,120,100]},"outputNode":{"id":-20,"bounding":[1130,3536,120,60]},"inputs":[{"id":"3ac60d5e-8f9d-4663-9b24-b3a15a3e9e20","name":"mask","type":"MASK","linkIds":[279],"localized_name":"mask","pos":[390,3556]},{"id":"d1ab0cf5-7062-41ac-9f4b-8c660fc4a714","name":"expand","type":"INT","linkIds":[379],"pos":[390,3576]},{"id":"1a787af5-da9f-44c5-9f5a-3f71609ca0ef","name":"blur_radius","type":"INT","linkIds":[380],"pos":[390,3596]}],"outputs":[{"id":"1f97f683-13d3-4871-876d-678fca850d89","name":"MASK","type":"MASK","linkIds":[378],"localized_name":"MASK","pos":[1150,3556]}],"widgets":[],"nodes":[{"id":253,"type":"ImageToMask","pos":[800,3630],"size":[270,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":377},{"localized_name":"channel","name":"channel","type":"COMBO","widget":{"name":"channel"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[378]}],"properties":{"Node name for S&R":"ImageToMask","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":["red"]},{"id":251,"type":"MaskToImage","pos":[780,3470],"size":[260,70],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":372}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[373]}],"properties":{"Node name for S&R":"MaskToImage","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[]},{"id":199,"type":"GrowMask","pos":[470,3460],"size":[270,82],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":279},{"localized_name":"expand","name":"expand","type":"INT","widget":{"name":"expand"},"link":379},{"localized_name":"tapered_corners","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[372]}],"properties":{"Node name for S&R":"GrowMask","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[0,true]},{"id":252,"type":"ImageBlur","pos":[480,3620],"size":[270,82],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":373},{"localized_name":"blur_radius","name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":380},{"localized_name":"sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[377]}],"properties":{"Node name for S&R":"ImageBlur","cnr_id":"comfy-core","ver":"0.3.59"},"widgets_values":[1,1]}],"groups":[],"links":[{"id":373,"origin_id":251,"origin_slot":0,"target_id":252,"target_slot":0,"type":"IMAGE"},{"id":377,"origin_id":252,"origin_slot":0,"target_id":253,"target_slot":0,"type":"IMAGE"},{"id":372,"origin_id":199,"origin_slot":0,"target_id":251,"target_slot":0,"type":"MASK"},{"id":279,"origin_id":-10,"origin_slot":0,"target_id":199,"target_slot":0,"type":"MASK"},{"id":378,"origin_id":253,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"MASK"},{"id":379,"origin_id":-10,"origin_slot":1,"target_id":199,"target_slot":1,"type":"INT"},{"id":380,"origin_id":-10,"origin_slot":2,"target_id":252,"target_slot":1,"type":"INT"}],"extra":{"workflowRendererVersion":"LG"}}]},"config":{},"extra":{"workflowRendererVersion":"LG","ds":{"scale":1.0764493694957162,"offset":[-26.79730173657785,-1906.532001802094]}},"version":0.4}